import Callout from 'nextra-theme-docs/callout'

# Error on deployment

### ItemNotFound

```json
{
  "error": {
    "error": {
      "code": "itemNotFound",
      "message": "The resource could not be found.",
      "innerError": {
        "date": "2022-01-14T09:29:32",
        "request-id": "7fee4456-abd6-4258-aeb0-4f03ee43bd13",
        "client-request-id": "7fee4456-abd6-4258-aeb0-4f03ee43bd13"
      }
    }
  }
}
```

You did not specify a valid directory inside your OneDrive for sharing.

1. You must have a folder in your OneDrive present.
2. You must define the absolute path of the folder under `baseDirectory` in `site.config.js`.

<Callout emoji="💬">
Related discussions:
- [这是啥问题？#274](https://github.com/spencerwooo/onedrive-vercel-index/discussions/274)
- [部署完后报错 #240](https://github.com/spencerwooo/onedrive-vercel-index/discussions/240)
</Callout>

### Error 504

```json
{ "error": { "code": "504", "message": "An error occurred with your deployment" } }
```

This may happen for a various reasons, but you definitely f\*cked up some config either in `site.config.js` or set the Redis URL incorrectly.

1. Check `baseDirectory`, previous versions don't have detailed error handling and if you are using a previous version then you may encounter this issue (same solution as the `itemNotFound` issue above)
2. Check your Redis URL defined in the environment variable in Vercel, which is `REDIS_URL`. **If you are using Upstash, and you enabled SSL,** then the URL may look similar to `rediss://:xxx@us1-xxx.upstash.io:xxx` - notice the `rediss` instead of `redis` and the `://:xx` instead of `://xx`.

<Callout emoji="💬">
Related discussions:
- [这种怎么解决啊 #267](https://github.com/spencerwooo/onedrive-vercel-index/discussions/267)
- [在 Vercel 下部署遇到 504 错误，在本地运行没有问题 #261](https://github.com/spencerwooo/onedrive-vercel-index/discussions/261)
- [Oops, that's a four-oh-four. #238](https://github.com/spencerwooo/onedrive-vercel-index/discussions/238)
- [504 Error #247](https://github.com/spencerwooo/onedrive-vercel-index/discussions/247)
</Callout>
